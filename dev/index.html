<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>UnitTypes.jl · UnitTypes.jl</title><meta name="title" content="UnitTypes.jl · UnitTypes.jl"/><meta property="og:title" content="UnitTypes.jl · UnitTypes.jl"/><meta property="twitter:title" content="UnitTypes.jl · UnitTypes.jl"/><meta name="description" content="Documentation for UnitTypes.jl."/><meta property="og:description" content="Documentation for UnitTypes.jl."/><meta property="twitter:description" content="Documentation for UnitTypes.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><link href="assets/mechanomy.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.png" alt="UnitTypes.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href>UnitTypes.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>UnitTypes.jl</a><ul class="internal"><li><a class="tocitem" href="#Type-hierarchy"><span>Type hierarchy</span></a></li><li><a class="tocitem" href="#Introducing-new-types"><span>Introducing new types</span></a></li><li><a class="tocitem" href="#Logical-operations"><span>Logical operations</span></a></li><li><a class="tocitem" href="#Comparison-with-other-packages"><span>Comparison with other packages</span></a></li><li><a class="tocitem" href="#Package-macros-and-functions"><span>Package macros and functions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>UnitTypes.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>UnitTypes.jl</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/mechanomy/UnitTypes.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/mechanomy/UnitTypes.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="UnitTypes.jl"><a class="docs-heading-anchor" href="#UnitTypes.jl">UnitTypes.jl</a><a id="UnitTypes.jl-1"></a><a class="docs-heading-anchor-permalink" href="#UnitTypes.jl" title="Permalink"></a></h1><p>This package provides physical units as Julia types.</p><pre><code class="language-julia hljs">julia&gt; using UnitTypes

julia&gt; x = Meter(3)
3m

julia&gt; typeof(x)
Meter

julia&gt; typeof(x) &lt;: AbstractLength
true

julia&gt; typeof(x) &lt;: AbstractCapacitance
false</code></pre><p>This allows you to easily write functions with arguments restricted to variables having certain types.</p><pre><code class="language-julia hljs">julia&gt; function goFaster(a::T) where T&lt;:AbstractAcceleration end</code></pre><p>This leads to correctness and very clear error messages.</p><pre><code class="language-julia hljs">julia&gt; goFaster(3u&quot;m/s&quot;)
ERROR: MethodError: no method matching goFaster(::MeterPerSecond)

Closest candidates are:
  goFaster(::AbstractAcceleration)</code></pre><h2 id="Type-hierarchy"><a class="docs-heading-anchor" href="#Type-hierarchy">Type hierarchy</a><a id="Type-hierarchy-1"></a><a class="docs-heading-anchor-permalink" href="#Type-hierarchy" title="Permalink"></a></h2><p>UnitTypes introduces an abstract type hierarchy of:</p><pre><code class="nohighlight hljs">AbstractMeasure
├─ AbstractAcceleration
│  └─ MeterPerSecond2
├─ AbstractAngle
│  ├─ Degree
│  └─ Radian
├─ AbstractArea
│  ├─ Acre
│  ├─ Meter2
│  ├─ SquareFoot
│  └─ SquareMile
├...and so on</code></pre><p>See docs/unitTypesTree.md for the full tree of predefined types.</p><p>Internally, a Measure is represented by</p><pre><code class="language-julia hljs">struct Meter &lt;: AbstractLength
  value::Number
  toBase::Number
  unit::String
end</code></pre><p>and a Dimension by</p><pre><code class="language-julia hljs">struct Diameter{T &lt;: AbstractLength } &lt;: AbstractDimension
  value::T
end</code></pre><p>The idea is that a <em>Measure</em> is some quantity bearing units, while a <em>Dimension</em> is some context-specific application of a Measure.</p><p>Within a Dimension multiple Measures may logically be used as long as they are dimensionally consistent. For instance, a circle may be described by its radius, diameter, or circumference, concepts that can be interchangeably converted, using any Measure of extent (&lt;:AbstractLength). A function creating a circle can then internally store radii while accepting Radius, Diameter, or Circumference arguments as the user prefers, since the type system provides conversion between the argument and the function&#39;s internal convention.</p><p>Please open an <a href="https://github.com/mechanomy/UnitTypes.jl/issues">issue</a> <em>with a minimal working example</em> if you run into conversion errors or think additional units should be defined by the package.</p><h2 id="Introducing-new-types"><a class="docs-heading-anchor" href="#Introducing-new-types">Introducing new types</a><a id="Introducing-new-types-1"></a><a class="docs-heading-anchor-permalink" href="#Introducing-new-types" title="Permalink"></a></h2><p>Macros are used to introduce and create relationships around new types:</p><ul><li><code>@makeBaseMeasure Length Meter &quot;m&quot;</code> - introduces a new basic Measure like Meter for Length or Meter3 Volume, this should be rarely used!</li><li><code>@makeMeasure Meter(1000) = KiloMeter(1) &quot;km&quot;</code> - derives a new measure (KiloMeter) from some an existing measure (Meter) with a conversion ratio (1000m = 1km)</li><li><code>@relateMeasures KiloGram*MeterPerSecond2=Newton</code> - relates the product of types to another type, all types preexisting.</li></ul><p>For working with Dimensions:</p><ul><li><code>@makeDimension Diameter Meter</code> - creates the Dimension Diameter measured in Meters</li><li><code>@relateDimensions Diameter = 2.0*Radius</code> - relates the Dimensions Diameter and Radius by the scalar 2.0.</li></ul><p>The macros in Measure.jl and Dimension.jl define the necessary convert()s and other operators. While these macros suffice for most units, defining nonlinear units (like temperature) requires additional plumbing. See the temperature converts in Temperature.jl for an example.</p><h2 id="Logical-operations"><a class="docs-heading-anchor" href="#Logical-operations">Logical operations</a><a id="Logical-operations-1"></a><a class="docs-heading-anchor-permalink" href="#Logical-operations" title="Permalink"></a></h2><p>Using units correctly requires distinguishing between valid and invalid operations, which in some cases means not allowing apparently convenient operations. Inches can be added, as can inch and millimeter, but only when computing area does inch*inch make sense. Inch * 3 is convenient while 3 / Inch is unlikely to be desirable. These conceptual gotchas are especially obvious in affine units like Temperature, where 0°C + 10°F is not 42°F but rather -12.2°C.</p><p>With use, patience, and <a href="https://github.com/mechanomy/UnitTypes.jl/issues">issues</a>, these coherence rules will become more clear and explained by example.</p><h2 id="Comparison-with-other-packages"><a class="docs-heading-anchor" href="#Comparison-with-other-packages">Comparison with other packages</a><a id="Comparison-with-other-packages-1"></a><a class="docs-heading-anchor-permalink" href="#Comparison-with-other-packages" title="Permalink"></a></h2><h3 id="Unitful.jl"><a class="docs-heading-anchor" href="#Unitful.jl">Unitful.jl</a><a id="Unitful.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Unitful.jl" title="Permalink"></a></h3><p><a href="https://painterqubits.github.io/Unitful.jl/latest/">Unitful</a> leverages parametric types to store units, giving flexibility at the cost of compile-time type uncertainty. It&#39;s two major limitations are the avoidance of <a href="https://painterqubits.github.io/Unitful.jl/latest/trouble/#promotion-with-dimensionless-numbers">angular measures</a>, as they are not first-class entities but rather ratios, and rather lengthy type unions that clutter outputs, especially on error:</p><pre><code class="language-julia hljs">julia&gt; function goSlower(x&lt;:Unitful.Acceleration) end
goSlower (generic function with 1 method)

julia&gt; goSlower(1u&quot;mm&quot;)
ERROR: MethodError: no method matching goSlower(::Quantity{Int64, 𝐋 , Unitful.FreeUnits{(mm,), 𝐋 , nothing}})

Closest candidates are:
  goSlower(::T) where T&lt;:(Union{Quantity{T, 𝐋 𝐓^-2, U}, Level{L, S, Quantity{T, 𝐋 𝐓^-2, U}} where {L, S}} where {T, U})</code></pre><p>As Unitful is the dominant unit package and has wide use and support, we provide a separate package <a href="https://github.com/mechanomy/ExchangeUnitful.jl">ExchangeUnitful</a> to enable interoperation with Unitful.</p><h3 id="DynamicQuantities.jl"><a class="docs-heading-anchor" href="#DynamicQuantities.jl">DynamicQuantities.jl</a><a id="DynamicQuantities.jl-1"></a><a class="docs-heading-anchor-permalink" href="#DynamicQuantities.jl" title="Permalink"></a></h3><p><a href="https://github.com/SymbolicML/DynamicQuantities.jl">DynamicQuantities</a> is newer and faster than Unitful because it &quot;defines a simple statically-typed Quantity type for storing physical units.&quot; It does this by storing the exponents on the basic units, allowing any unit traceable to SI to be used. But this performant representation hurts readability, and while the unit representation may be able to be hidden behind overrides of show(), Julia is designed for types to be read and manipulated directly by users.</p><h3 id="UnitTypes.jl-2"><a class="docs-heading-anchor" href="#UnitTypes.jl-2">UnitTypes.jl</a><a class="docs-heading-anchor-permalink" href="#UnitTypes.jl-2" title="Permalink"></a></h3><p>In the presence of Julia&#39;s type-heavy UI, these two, good attempts feel misdirected and motivate this package&#39;s literal typing of units. The limitation is that <em>UnitTypes does not have a catch-all unit representation</em>. Only units that have been defined by one of the macros may be represented, and complex units may need to have additional methods written to correctly convert between units. See Temperature.jl for an example of manual unit conversion.</p><h2 id="Package-macros-and-functions"><a class="docs-heading-anchor" href="#Package-macros-and-functions">Package macros and functions</a><a id="Package-macros-and-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Package-macros-and-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnitTypes.@makeBaseMeasure" href="#UnitTypes.@makeBaseMeasure"><code>UnitTypes.@makeBaseMeasure</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>macro makeBaseMeasure(quantityName, unitName, unitSymbol::String, isAffine=false)</code></p><p>Make a new base measure which has no relationship to an existing unit.   For example, in <code>@makeBaseMeasure Length Meter &quot;m&quot;</code>:</p><ul><li><code>quantityName</code> is the name of the measure, &#39;Length&#39; above.</li><li><code>unitName</code> is the name of the unit which will be used to make measures bearing that unit, &#39;Meter&#39; above.</li><li><code>unitSymbol</code> is the abbreviation of the unit name, used in all string presentations of the measure.</li><li><code>isAffine</code> is normally false, if true the +-/* operations are not added for this and derived units and need to be added by hand.</li></ul><p>The macro will introduce <code>AbstractLength &lt;: AbstractMeasure</code> and <code>Meter()</code> into the current scope.</p><p>Measures created by the macro have fields:</p><ul><li><code>value::Number</code> raw value of the measure</li><li><code>toBase::Number</code> == 1 for base measures</li><li><code>unit::String</code> the unit to be displayed</li></ul><p>To get the measure&#39;s value in the base unit as a float, see toBaseFloat().</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mechanomy/UnitTypes.jl/blob/e926fc061e1b968a3e878d73516ed26e10d670a5/src/Measure.jl#L9-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnitTypes.@makeMeasure" href="#UnitTypes.@makeMeasure"><code>UnitTypes.@makeMeasure</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>macro makeMeasure(relation, unit=&quot;NoUnit&quot;, defineConverts=true)</code></p><p>Creates a new Measure from an existing base measure.   The left hand side of the equation must already exist, while the right hand side should be undefined, with the trailing string providing the unit symbol.</p><p><code>@makeMeasure Meter(1) = MilliMeter(1000) &quot;mm&quot;</code></p><p>The resulting types are defined in the containing module, not in UnitTypes, as seen by <code>println(names(MyModule, all=true))</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mechanomy/UnitTypes.jl/blob/e926fc061e1b968a3e878d73516ed26e10d670a5/src/Measure.jl#L162-L173">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnitTypes.@relateMeasures" href="#UnitTypes.@relateMeasures"><code>UnitTypes.@relateMeasures</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>macro relateMeasures(relation)</code></p><p>Adds a multiplicative relationship between the left and right sides of the equation, allowing units to be multiplied and divided with consistent units.   All types must already be defined and only one * is supported on the left side, while the right should the resultant type.</p><p><code>@relateMeasures Meter*Newton = NewtonMeter</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mechanomy/UnitTypes.jl/blob/e926fc061e1b968a3e878d73516ed26e10d670a5/src/Measure.jl#L330-L339">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnitTypes.@makeDimension" href="#UnitTypes.@makeDimension"><code>UnitTypes.@makeDimension</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>macro makeDimension(dimName, measure)</code></p><p>Make a new dimension <code>dimName</code> of <code>measure</code>; also creates &#39;Abstract<code>dimName</code>&#39;</p><p>```     @makeDimension Diameter Meter </p><pre><code class="nohighlight hljs">d = Diameter(MilliMeter(3.4))
r = Radius(d)</code></pre><p>```</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mechanomy/UnitTypes.jl/blob/e926fc061e1b968a3e878d73516ed26e10d670a5/src/Dimension.jl#L5-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="UnitTypes.@relateDimensions" href="#UnitTypes.@relateDimensions"><code>UnitTypes.@relateDimensions</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>macro relateDimensions(relation)</code></p><p>Defines various Base.: functions that facilitate the given (linear) relationship.   All types must already be defined and written in the form <code>type1 = factor * type2</code>, as in:   <code>@relateDimensions Diameter = 2.0*Radius</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mechanomy/UnitTypes.jl/blob/e926fc061e1b968a3e878d73516ed26e10d670a5/src/Dimension.jl#L128-L136">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Thursday 27 February 2025 12:48">Thursday 27 February 2025</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
